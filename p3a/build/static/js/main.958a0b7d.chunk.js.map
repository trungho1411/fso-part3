{"version":3,"sources":["Filter.js","PersonsForm.js","Persons.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","search","handleSearch","type","onChange","value","PersonsForm","newName","newNumber","handleNameChange","handleNumberChange","addName","onSubmit","Persons","persons","handleDelete","map","p","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","messageClass","className","App","useState","setPersons","setNewName","setNewNumber","setSearch","errorMessage","setErrorMessage","setMessage","personsFilter","filter","toLowerCase","includes","useEffect","personService","initialPersons","catch","error","console","log","handleUpdate","person","find","n","trim","changedName","returnedPerson","setTimeout","event","target","preventDefault","flag","nameObject","i","length","window","confirm","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.958a0b7d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({search, handleSearch}) => {\r\n  return (\r\n    <div>\r\n      <p>Filter shown with </p>\r\n      <input\r\n        type='text'\r\n        onChange={handleSearch}\r\n        value={search}\r\n      />\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonsForm = ({newName, newNumber, handleNameChange, handleNumberChange, addName}) => {\r\n    return (\r\n        <form onSubmit= {addName}>\r\n            name:\r\n            <input \r\n                type = 'text'\r\n                onChange={handleNameChange}\r\n                value={newName}\r\n            />\r\n            number: \r\n            <input\r\n                type= 'text'\r\n                onChange={handleNumberChange}\r\n                value={newNumber}\r\n            />\r\n            <button type='submit'>ADD</button>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonsForm","import React from 'react'\r\n\r\n\r\n\r\nconst Persons = ({persons, handleDelete}) => {\r\n    return (\r\n        <div>\r\n            {persons.map(p=>(\r\n                <div key={p.name}>\r\n                    <p>{p.name} {p.number}</p>\r\n                    <button onClick={() => handleDelete(p.id, p.name)}>delete</button>\r\n                </div>\r\n            ))}\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Persons  ","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n\r\n}\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {getAll, create, update, remove}","import React from 'react'\r\n\r\nconst Notification =({message, messageClass}) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className={messageClass}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","\nimport React, {useState, useEffect} from 'react' \nimport Filter from './Filter'\nimport PersonsForm from './PersonsForm';\nimport Persons from './Persons'\nimport personService from './services/persons'\nimport Notification from './Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState ('')\n  const [search, setSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [message, setMessage] = useState(null)\n\n  const personsFilter = persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n    .catch(error => {\n      console.log(error)\n    }\n  )}, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange =(event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearch =(event) => {\n    setSearch(event.target.value)\n  }\n  const handleUpdate = (name) => {\n    const person = persons.find(n => n.name.toLowerCase() === name.trim().toLowerCase())\n    const changedName = {...person, number: newNumber}\n      personService\n      .update(person.id, changedName)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n      })\n      .catch(error =>{\n        console.log(error)\n        setErrorMessage(\n          `${person.name} with ${person.number} was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n  const addName = (event) => {\n    event.preventDefault()\n    let flag = false\n    const nameObject = {\n      name :  newName,\n      number: newNumber\n    }\n    for(var i=0; i<persons.length; i++){\n      if(persons[i].name.toLowerCase() === newName.toLowerCase()){\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n          handleUpdate(newName)\n        }\n        flag = true\n      } \n    }\n    if (flag === false){\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(`Added ${newName}`)\n        setTimeout(()=> {\n          setMessage(null)\n        },5000)\n      })\n    }\n    \n    setNewName('')\n    setNewNumber('')\n\n  }\n  const handleDelete =(id, name) => {\n    if(window.confirm(`delete ${name} ?`)) {\n      personService\n      .remove(id)\n      .then(setPersons(persons.filter(p => p.id !== id)))\n      .catch(error => {\n        console.log(error)\n      })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} messageClass='error'/>\n      <Notification message={message} messageClass ='notification'/>\n      <div>\n        <Filter \n        search={search}\n        handleSearch={handleSearch}\n        />\n      </div>\n      <h3>Add a new</h3>\n      <PersonsForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addName={addName}/>\n      <h2>Numbers</h2>\n      <Persons persons={search.length>0 ? personsFilter : persons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\n\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}